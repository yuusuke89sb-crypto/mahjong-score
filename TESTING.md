# 麻雀点数計算アプリ - テストガイド

## アプリケーションの起動方法

### 方法1: ブラウザで直接開く（最も簡単）

1. エクスプローラーで以下のフォルダを開く：
   ```
   c:\Users\yoshimura-yuusuke\Desktop\AI
   ```

2. `index.html` ファイルを右クリック

3. 「プログラムから開く」→ お好みのブラウザ（Chrome、Edge、Firefoxなど）を選択

### 方法2: ブラウザのアドレスバーに直接入力

ブラウザのアドレスバーに以下を貼り付けて Enter:
```
file:///c:/Users/yoshimura-yuusuke/Desktop/AI/index.html
```

## テスト手順

### 基本動作テスト

#### ステップ1: ルール選択
1. アプリを開くと、3つのルールカードが表示される
2. 「日本プロ麻雀連盟公式ルール」をクリック
3. カードが選択状態（青い枠線）になることを確認
4. 「このルールで開始」ボタンをクリック

#### ステップ2: スコア入力
1. 3回戦終了時スコア（累計）に以下を入力：
   - 東家: `0`（または3回戦までの累計）
   - 南家: `0`
   - 西家: `0`
   - 北家: `0`
2. オーラス現在スコアに以下を入力：
   - 東家: `35000`
   - 南家: `28000`
   - 西家: `32000`
   - 北家: `25000`
3. 親の位置: 「東家」を選択（デフォルト）
4. 立直棒: `0`
5. 積み棒: `0`
6. 「計算する」ボタンをクリック

#### ステップ3: 結果確認
以下が表示されることを確認：
- 各プレイヤーの現在順位（1位〜4位）
- 1位になるための条件
  - ツモの場合の最小点数
  - 各プレイヤーからロンした場合の最小点数
- 3位・4位のプレイヤーには「2位になる条件」も表示

### 詳細テストシナリオ

#### テスト1: 立直棒・積み棒の影響確認

**入力**:
- ルール: WRCルール
- オーラス現在スコア: `30000, 30000, 30000, 30000`
- 親: 南家
- 立直棒: `2`
- 積み棒: `1`

**期待結果**:
- 点数の合計が122000点（120000 + 2000）になることを確認
- 計算結果に立直棒2000点と積み棒300点が反映されている

#### テスト2: 30符4翻の違い確認

**公式ルールでのテスト**:
- ルール: 日本プロ麻雀連盟公式ルール
- オーラス現在スコア: `32000, 30000, 30000, 28000`
- 親: 東家

**WRCルールでのテスト**:
- ルール: WRCルール
- 同じスコアで計算

**期待結果**:
- 公式ルール: 30符4翻は7700/11600点
- WRCルール: 30符4翻は8000/12000点（切り上げ満貫）

#### テスト3: バリデーションエラー

**入力**:
- オーラス現在スコア: `30000, 30000, 30000, 31000`（合計121000点）
- 立直棒: `0`

**期待結果**:
- 「計算する」ボタンをクリックすると、エラーメッセージが表示される
- 「点数の合計が120000点になっていません」というアラート

#### テスト4: 大差がある場合

**入力**:
- ルール: WRC-Rルール
- オーラス現在スコア: `50000, 35000, 20000, 15000`
- 親: 西家

**期待結果**:
- 4位のプレイヤーが2位になるには非常に高い点数が必要
- 役満クラスの条件が表示される可能性がある

## スマートフォンでのテスト

### PWAとしてインストール（推奨）

1. スマートフォンのブラウザで同じURLを開く
   - ローカルサーバーを起動している場合: `http://[PCのIPアドレス]:3000`
   - または、ファイルをスマートフォンに転送して開く

2. ブラウザのメニューから「ホーム画面に追加」を選択

3. アプリアイコンがホーム画面に追加される

4. オフライン動作を確認：
   - 一度アプリを開いた後、機内モードにする
   - アプリが正常に動作することを確認

### レスポンシブデザイン確認

- 縦向き・横向きで表示が適切か確認
- タッチ操作がスムーズか確認
- 文字サイズが読みやすいか確認

## トラブルシューティング

### 計算結果が表示されない
- ブラウザの開発者ツール（F12）を開く
- コンソールにエラーメッセージがないか確認
- JavaScriptファイルが正しく読み込まれているか確認

### スタイルが適用されない
- `styles.css` ファイルが同じフォルダにあるか確認
- ブラウザのキャッシュをクリアして再読み込み（Ctrl + F5）

### PWAとしてインストールできない
- HTTPSまたはlocalhostで開いているか確認
- Service Workerが正しく登録されているか確認（開発者ツールのApplicationタブ）

## 確認項目チェックリスト

- [ ] ルール選択画面が正しく表示される
- [ ] 3つのルールすべてで計算が動作する
- [ ] スコア入力のバリデーションが機能する
- [ ] 計算結果が正確に表示される
- [ ] ツモ・ロン別の条件が表示される
- [ ] 立直棒・積み棒が正しく計算される
- [ ] レスポンシブデザインが機能する（スマートフォン）
- [ ] オフライン動作が可能（PWA）

## 次のステップ

テストが完了したら、以下を検討してください：

1. **実際の大会で使用**: 実際のスコアで計算精度を確認
2. **フィードバック収集**: 使いやすさや改善点を記録
3. **機能拡張**: OCR機能や他団体ルールの追加を検討

アプリケーションは完全に動作可能な状態です。ぜひテストしてみてください！
