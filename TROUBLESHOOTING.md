# トラブルシューティングガイド

## 計算ボタンを押しても結果が表示されない場合

### ステップ1: ブラウザのコンソールを開く

1. **Windows/Linux**: `F12` キーを押す
2. **Mac**: `Cmd + Option + I`
3. 「Console」タブをクリック

### ステップ2: エラーメッセージを確認

計算ボタンを押すと、コンソールに以下のようなログが表示されます：

```
=== 計算開始 ===
データ収集開始
プレイヤー名: ['東家', '南家', '西家', '北家']
3回戦終了時スコア: [0, 0, 0, 0]
オーラス現在スコア: [35000, 28000, 32000, 25000]
親の位置: 0
立直棒: 0 積み棒: 0
入力データ収集完了: {...}
バリデーション成功
計算実行中...
計算結果: [...]
結果表示完了
=== 計算完了 ===
```

### よくあるエラーと対処法

#### エラー1: 「点数の合計が120000点になっていません」

**原因**: オーラス現在スコアの合計が120000点（+ 立直棒×1000点）になっていない

**対処法**:
- オーラス現在スコアの4人の合計を確認
- 立直棒がある場合は、120000 + (立直棒 × 1000) になるように調整

**例**:
- 立直棒0本の場合: 合計120000点
- 立直棒2本の場合: 合計122000点

#### エラー2: 「バリデーションエラー」

**原因**: 入力値が不正

**対処法**:
1. すべての必須フィールドに数値が入力されているか確認
2. オーラス現在スコアが空欄になっていないか確認
3. 点数の合計を確認

#### エラー3: JavaScriptエラー（赤いエラーメッセージ）

**原因**: ファイルの読み込みエラーまたはコードのバグ

**対処法**:
1. ページを再読み込み（`Ctrl + F5` または `Cmd + Shift + R`）
2. すべてのJavaScriptファイルが同じフォルダにあるか確認：
   - `scoreTable.js`
   - `rules.js`
   - `calculator.js`
   - `app.js`
3. ブラウザのキャッシュをクリア

### テスト用の入力例

以下の値で正常に動作するか確認してください：

**ルール**: 日本プロ麻雀連盟公式ルール

**オーラス現在スコア**:
- 東家: `35000`
- 南家: `28000`
- 西家: `32000`
- 北家: `25000`

**親の位置**: 東家

**立直棒**: `0`

**積み棒**: `0`

この設定で「計算する」ボタンを押すと、各プレイヤーの条件が表示されるはずです。

### それでも解決しない場合

1. **ブラウザを変更**: Chrome、Edge、Firefoxなど別のブラウザで試す
2. **ファイルの確認**: すべてのファイルが正しくダウンロード/保存されているか確認
3. **コンソールのスクリーンショット**: エラーメッセージのスクリーンショットを撮って確認

### デバッグ用テストファイル

`test-debug.html` を開くと、JavaScriptファイルが正しく読み込まれているか確認できます。

```
file:///c:/Users/yoshimura-yuusuke/Desktop/AI/test-debug.html
```

コンソールに以下が表示されれば正常です：
```
ScoreTable: object
MahjongRules: object
Calculator: object
App: object
Testing calculation...
Calculation successful!
```
